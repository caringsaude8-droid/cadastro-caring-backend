-- Criação da tabela de anexos de beneficiário vinculada à solicitação
CREATE TABLE SGI_BEN_ANEXOS (
    BEN_ANEXO_ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    SOL_ID NUMBER NOT NULL,
    BEN_ANEXO_NOME_ORIGINAL VARCHAR2(255 CHAR) NOT NULL,
    BEN_ANEXO_NOME_SALVO VARCHAR2(255 CHAR) NOT NULL,
    BEN_ANEXO_CAMINHO VARCHAR2(512 CHAR) NOT NULL,
    BEN_ANEXO_TIPO_MIME VARCHAR2(100 CHAR),
    BEN_ANEXO_TAMANHO NUMBER,
    BEN_ANEXO_DATA_UPLOAD TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    BEN_ANEXO_USUARIO_UPLOAD VARCHAR2(100 CHAR),
    CONSTRAINT FK_BEN_ANEXO_SOLICITACAO FOREIGN KEY (SOL_ID)
        REFERENCES SGI_SOLICITACOES_BENEFICIARIO (SOL_ID)
        ON DELETE CASCADE
);

CREATE INDEX IDX_BEN_ANEXO_SOL_ID ON SGI_BEN_ANEXOS (SOL_ID);

