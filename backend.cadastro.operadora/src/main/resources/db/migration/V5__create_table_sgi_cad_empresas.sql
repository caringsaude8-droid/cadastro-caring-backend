-- Script para criar a tabela SGI_CAD_EMPRESAS e sequence no Oracle
CREATE TABLE SGI_CAD_EMPRESAS (
    EMP_ID NUMBER(19,0) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    EMP_NOME VARCHAR2(255 CHAR) NOT NULL,
    EMP_CNPJ VARCHAR2(30 CHAR) NOT NULL UNIQUE,
    EMP_CIDADE VARCHAR2(100 CHAR),
    EMP_UF VARCHAR2(2 CHAR),
    EMP_EMAIL VARCHAR2(255 CHAR),
    EMP_TELEFONE VARCHAR2(30 CHAR),
    EMP_CODIGO_EMPRESA VARCHAR2(50 CHAR),
    EMP_NUMERO_EMPRESA VARCHAR2(50 CHAR)
);

CREATE SEQUENCE SGI_CAD_EMPRESAS_ID_SEQ START WITH 1 INCREMENT BY 1 NOCACHE NOCYCLE;

ALTER TABLE SGI_USUARIOS ADD (
    CAD_EMP_ID NUMBER(19,0)
);

ALTER TABLE SGI_USUARIOS
    ADD CONSTRAINT FK_SGI_USUARIOS_CAD_EMP_ID
    FOREIGN KEY (CAD_EMP_ID)
    REFERENCES SGI_CAD_EMPRESAS (EMP_ID);

CREATE TABLE SGI_CAD_BENEFICIARIO (
    BEN_ID NUMBER(19,0) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    BEN_EMP_ID NUMBER(19,0),
    BEN_TITULAR_ID NUMBER(19,0),
    BEN_COD_CARTAO VARCHAR2(50 CHAR),
    BEN_TIPO_MOTIVO VARCHAR2(50 CHAR),
    BEN_COD_UNIMED_SEG VARCHAR2(50 CHAR),
    BEN_RELACAO_DEP VARCHAR2(50 CHAR),
    BEN_DTA_NASC DATE,
    BEN_SEXO VARCHAR2(10 CHAR),
    BEN_EST_CIVIL VARCHAR2(20 CHAR),
    BEN_DTA_INCLUSAO DATE,
    BEN_DTA_EXCLUSAO DATE,
    BEN_PLANO_PROD VARCHAR2(100 CHAR),
    BEN_NOME_SEGURADO VARCHAR2(255 CHAR),
    BEN_CPF VARCHAR2(20 CHAR),
    BEN_CIDADE VARCHAR2(100 CHAR),
    BEN_UF VARCHAR2(2 CHAR),
    BEN_ADMISSAO DATE,
    BEN_NOME_DA_MAE VARCHAR2(255 CHAR),
    BEN_ENDERECO VARCHAR2(255 CHAR),
    BEN_COMPLEMENTO VARCHAR2(100 CHAR),
    BEN_BAIRRO VARCHAR2(100 CHAR),
    BEN_CEP VARCHAR2(20 CHAR),
    BEN_MATRICULA VARCHAR2(50 CHAR),
    BEN_DDD_CEL VARCHAR2(5 CHAR),
    BEN_EMAIL VARCHAR2(255 CHAR),
    BEN_DATA_CASAMENTO DATE,
    BEN_INDIC_PES_TRANS VARCHAR2(5 CHAR),
    BEN_NOME_SOCIAL VARCHAR2(255 CHAR),
    BEN_IDENT_GENERO VARCHAR2(50 CHAR),

    BEN_MOTIVO_EXCLUSAO VARCHAR2(255 CHAR),
    CONSTRAINT FK_BENEFICIARIO_EMPRESA FOREIGN KEY (BEN_EMP_ID) REFERENCES SGI_CAD_EMPRESAS (EMP_ID),
    CONSTRAINT FK_BENEFICIARIO_TITULAR FOREIGN KEY (BEN_TITULAR_ID) REFERENCES SGI_CAD_BENEFICIARIO (BEN_ID)
);

CREATE SEQUENCE SGI_CAD_BENEFICIARIO_ID_SEQ START WITH 1 INCREMENT BY 1 NOCACHE NOCYCLE;
